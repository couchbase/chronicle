{profiles,
 [{test, [{deps,
           [{vnet,
             {git, "https://github.com/klarna/vnet.git",
              {branch, "master"}}}]
          }]
  },
  {example, [{deps,
             [{cowlib, ".*",{git,"https://github.com/ninenines/cowlib",
                             {tag, "2.9.1"}}},
              {ranch, ".*",{git,"https://github.com/ninenines/ranch",
                            {tag, "1.7.1"}}},
              {cowboy, {git, "https://github.com/ninenines/cowboy",
                        {tag, "2.8.0"}}},
              {jiffy, {git, "git@github.com:davisp/jiffy.git",
                       {tag, "1.0.5"}}}]
  },
             {erl_opts, [{src_dirs, ["src", "example"]}]}]
  }]
}.

{erl_opts, [debug_info, warn_export_vars,
            {platform_define, "linux", 'HAVE_SYNC_DIR'}]}.
{dialyzer, [{warnings,
             [error_handling,
              race_conditions,
              unmatched_returns]}]}.

%% TODO: look more into these
{xref_extra_paths, ["test"]}.
{xref_checks,[undefined_function_calls,
              undefined_functions,
              locals_not_used,
              deprecated_function_calls,
              deprecated_functions]}.
{plugins, [pc]}.
{provider_hooks,
 [{pre, [{compile, {pc, compile}},
         {clean, {pc, clean}}]}]}.
{port_specs, [{"linux", "priv/sync_nif.so", ["c_src/sync_nif.c"]}]}.
{port_env, [{"CFLAGS", "$CFLAGS -Wall -Werror -std=gnu99"}]}.
